<!DOCTYPE html>
<html lang="en">

<head>
    <title></title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="prism.css" rel="stylesheet">
    <link href="csss/slideshow.css" rel="stylesheet">
    <link href="csss/reusable.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
</head>

<body class="language-js">
    <header class="slide title">
        <figure>
            <h1>ECMAScript 6</h1>
            <p class="tagline">Modern Javascript features</p>
        </figure>
    </header>
    <section class="slide dont-resize">
        <h1>
            Why do we need it?
        </h1>
        <figure>
            <h2>Regular ECMAScript 5</h2>
            <pre class="language-js">
        <code>
var double = function double() {
  var a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
  var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  return a * b;
};
        </code>
        </pre>
        </figure>
    </section>
    <section class="slide">
        <h1>
            Why do we need it?
        </h1>
        <h2>ECMAScript 6</h2>
        <pre class="language-js">
            <code>
                const double = (a = 0, b = 0) => a * b;
            </code>
        </pre>
    </section>
    <section class="slide inverse darker dont-resize">
        <h1>History</h1>
        <figure>
            <ul>
                <li>Initial release - 1995</li>
                <li>ECMAScript - 1996</li>
                <li>ECMAScript 3 – 1999</li>
                <li>ECMA Script 5 – 2009</li>
                <li>ES.Harmony – 2012</li>
                <li>ES6/ES2015 – 2015</li>
            </ul>
        </figure>
    </section>
    <section class="slide">
        <h1>Regular ES5 vars</h1>
        <pre class="language-js delayed">
            <code>
                var a = 1;
                function four() {
                    if (true) {
                        var a = 4;
                    }
                    alert(a); // alerts '4', not the global value of '1'
                }
            </code>
        </pre>
    </section>
    <section class="slide">
        <h1>ES6 way</h1>
        <pre class="language-js">
            <code>
                let a = 1;
                function four() {
                    if (true) {
                        let a = 4;
                    }
                    alert(a); // alerts '1'
                }
                alert(a); // alerts '1'
            </code>
        </pre>
    </section>
    <section class="slide">
        <h1>Constant variables</h1>
        <pre class="language-js">
            <code>
                const foo = {bar: 10};
                foo = {baz: 100}; // Error
                foo.bar = 1000; // Works just fine
            </code>
        </pre>
    </section>
    <section class="slide">
        <h1>var, let or const?</h1>
        <figure>
            <p class="delayed">
                Keep things simple. In the context of identifiers, that means that a single identifier should only be used to represent a
                single concept.
            </p>
            <p class="delayed">
                `const` means that the identifier can’t be reassigned.
            </p>
            <p class="delayed">
                `let`, is a signal that the variable should be reassigned at some point, such as a counter in a loop, or a value swap in an algorithm.
            </p>
            <p class="delayed">
                `var` is now the weakest signal available when you define a variable in JavaScript.
            </p>
        </figure>
    </section>
    <section class="slide">
        <h1>
            How to define an anonymous function?
        </h1>
        <pre class="language-js">
            <code>
var self = this;
this.nums.forEach(function (v) {
    if (v % 5 === 0)
        self.fives.push(v);
});
            </code>
        </pre>
    </section>
    <section class="slide">
        <h1>New Arrow Functions</h1>
        <pre class="language-js">
            <code>
// Before...
var es5OddNumbers = numbers.filter(function(number) {
  return number % 2;
});

// After...
const es6OddNumbers = numbers.filter(number => number % 2);
            </code>
        </pre>
    </section>
    <section class="slide">
        <h1>Usages</h1>
        <figure class="delayed">
            <h2>Method functions</h2>
            <pre class="language-js">
            <code>
const double = x => x * 2;
const arr = [1, 2, 3];
arr.map(double).map(double); // [4, 8, 12]
            </code>
        </pre>
        </figure>
        <figure class="delayed">
            <h2>Callbacks</h2>
            <pre class="language-js">
                <code>
const processFile = (err, data) => err ? console.error(err) : console.log(data.toString());
fs.readFile('input.txt', processFile);
                </code>
            </pre>
        </figure>
    </section>
    <section class="slide">
        <h1>How to deal with 'this'?</h1>
        <figure class="delayed">
            <h2>ES5 Way</h2>
            <pre class="language-js">
                <code>
Prefixer.prototype.prefixArray = function (arr) {
    var that = this;
    return arr.map(function (x) {
        return that.prefix + x;
    });
};
                </code>
            </pre>
        </figure>
        <figure class="delayed">
            <h2>ES6 Way</h2>
            <pre class="language-js">
                <code>
Prefixer.prototype.prefixArray = function (arr) {
    return arr.map(x => this.prefix + x);
};            
                </code>
            </pre>
        </figure>
    </section>
    <section class="slide">
        <h1>Conclusion</h1>
        <figure>
            <ul>
                <li>Short concise syntax</li>
                <li>Lacks its own this</li>
                <li>Can't be used as a constructor</li>
            </ul>
        </figure>
    </section>
    <section class="slide">
        <h1>Default Parameters</h1>
        <figure class="delayed">
            <h2>ES5</h2>
            <pre class="language-js">
                <code>
function summarize(x) {
    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 7;
    var z = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 42;

    return x + y + z;
}
                </code>
            </pre>
        </figure>
        <figure class="delayed">
            <h2>ES6</h2>
            <pre class="language-js">
                <code>
function summarize (x, y = 7, z = 42) {
    return x + y + z
}
                </code>
            </pre>
        </figure>
    </section>
    <section class="slide">
        <h1>Rest Parameter</h1>
        <figure class="delayed">
            <h2>ES5</h2>
            <pre class="language-js">
                <code>
function multiply(x, y) {
  if ((arguments.length <= 2 ? 0 : arguments.length - 2) > 0) {
    return (x + y) * (arguments.length <= 2 ? undefined : arguments[2]);
  }
}
                </code>
            </pre>
        </figure>
        <figure class="delayed">
            <h2>ES6</h2>
            <pre class="language-js">
                <code>
function multiply (x, y, ...a) {
  if(a.length > 0) {
    return (x + y) * a[0]
  }
}
                </code>
            </pre>
        </figure>
    </section>
    <section class="slide">
        <h1>Spread Operator</h1>
        <figure class="delayed">
            <h2>ES5</h2>
            <pre class="language-js">
                <code>
                        var params = [ "hello", true, 7 ]
                        var other = [ 1, 2, ...params ] // [ 1, 2, "hello", true, 7 ]
                </code>
            </pre>
        </figure>
        <figure class="delayed">
            <h2>ES6</h2>
            <pre class="language-js">
                <code>
                        var params = [ "hello", true, 7 ];
                        var other = [ 1, 2 ].concat(params); // [ 1, 2, "hello", true, 7 ]                        
                </code>
            </pre>
        </figure>
    </section>
    <section class="slide">
            <h1>Spread Operator</h1>
            <figure class="delayed">
                <h2>ES5</h2>
                <pre class="language-js">
                    <code>
                            var params = [ "hello", true, 7 ];
                            
                            function someMath (x, y) {
                                var a = Array.prototype.slice.call(arguments, 2);
                                return (x + y) * a.length;
                            };
                            someMath.apply(undefined, [ 1, 2 ].concat(params)) === 9;
                    </code>
                </pre>
            </figure>
            <figure class="delayed">
                <h2>ES6</h2>
                <pre class="language-js">
                    <code>
                            var params = [ "hello", true, 7 ]
                            
                            function someMath (x, y, ...a) {
                                return (x + y) * a.length
                            }
                            someMath(1, 2, ...params) === 9                      
                    </code>
                </pre>
            </figure>
        </section>
        <section class="slide">
                <h1>Spread Operator</h1>
                <figure class="delayed">
                    <h2>ES5</h2>
                    <pre class="language-js">
                        <code>
                                var str = "foo";
                                var chars = str.split(""); // [ "f", "o", "o" ]
                        </code>
                    </pre>
                </figure>
                <figure class="delayed">
                    <h2>ES6</h2>
                    <pre class="language-js">
                        <code>
                                var str = "foo"
                                var chars = [ ...str ] // [ "f", "o", "o" ]                  
                        </code>
                    </pre>
                </figure>
            </section>
    <section class="slide">
        <h1>Destructuring</h1>
        <h2>Object destructuring</h2>
        <pre class="language-js">
                <code>
//ES5
var user = { first: 'Jane', last: 'Doe' };
var f = user.first,
    l = user.last;
//ES6
const user = { first: 'Jane', last: 'Doe' };
const {first: f, last: l} = user;
console.log(f, l) //Jane Doe
                </code>
            </pre>
    </section>
    <section class="slide">
        <h1>Destructuring</h1>
        <h2>Array destructuring</h2>
        <pre class="language-js">
                <code>
//ES5
var letters = ['a', 'b'];
var x = letters[0],
    y = letters[1];
//ES6
const letters = ['a', 'b'];
const [x, y] = letters;
    // x = 'a'; y = 'b'
                </code>
            </pre>
    </section>
    <section class="slide">
        <h1>Destructuring</h1>
        <h2>Rest destructuring</h2>
        <pre class="language-js">
                <code>
//ES5
a = 1;
b = 2;
rest = [3, 4, 5];
//ES6
[a, b, ...rest] = [1, 2, 3, 4, 5];
console.log(a); // 1
console.log(b); // 2
console.log(rest); // [3, 4, 5]
                </code>
            </pre>
    </section>
    <section class="slide">
        <h1>Enhanced Object Literals</h1>
        <h2>Property shorthand</h2>
        <figure>
            <pre class="language-js">
                <code>
                
    function(name, password) {
        var user = {
            name: name,
            password: password
        }
    }
    //ES5
                </code>
            </pre>
        </figure>
    </section>
    <section class="slide">
            <h1>Enhanced Object Literals</h1>
            <h2>Property shorthand</h2>
            <figure>
                <pre class="language-js">
                    <code>
                    
        function(name, password) {
            var user = {
                name,
                password
            }
        }
        //ES6
                    </code>
                </pre>
            </figure>
        </section>
    <section class="slide">
        <figure>
            <h2>Computed Properties</h2>
            <pre class="language-js">
                <code>
const getPropertyName = () => 'myProp';

var obj = {
    foo: "bar"
};

obj[getPropertyName()] = 42; //ES5

let obj = {
    foo: "bar",
    [getPropertyName()]: 42 //ES6
}
                </code>
            </pre>
        </figure>
        </section>
        <section class="slide">
        <figure>
            <h2>Function Declaration</h2>
            <pre class="language-js">
                <code>
var user = {
    updateName: function (first, last) { //ES5
    }
}

user = {
    updateName (first, last) { // ES6
    }
}
                </code>
            </pre>
        </figure>
        </code>
        </pre>
    </section>
    <section class="slide">
        <h1>Template Strings</h1>
        <figure class="delay">
            <h2>ES5</h2>
            <pre class="language-js">
                <code>
"string text " + expression + " string text";

console.log('string text line 1\n' +
'string text line 2');

console.log('Fifteen is ' + (a + b) + ' and\not ' + (2 * a + b) + '.');
                </code>
            </pre>
        </figure>
    </section>
    <section class="slide">
        <figure >
            <h2>ES6</h2>
            <pre class="language-js">
                <code>
`string text ${expression} string text`

console.log(`string text line 1
string text line 2`);

console.log(`Fifteen is ${a + b} and
not ${2 * a + b}.`);
                </code>
            </pre>
        </figure>
    </section>
    <section class="slide">
        <h1>ES5 Constructor Function</h1>
        <pre class="language-js">
            <code>
function Car () {}

Car.prototype.drive = function () {
  console.log('Vroom!');
};

const car = new Car();
console.log(car.drive()); //Vroom!
            </code>
        </pre>
    </section>
    <section class="slide">
        <h1>ES6 Class</h1>
        <pre class="language-js">
            <code>
class Car {
  drive () {
    console.log('Vroom!');
  }
}

const car = new Car();
console.log(car.drive()); //Vroom!
            </code>
        </pre>
    </section>
    <section class="slide">
        <h1>ES6 Class Inheritance</h1>
        <pre class="language-js">
            <code>
class Animal { 
  //...
}

class Dog extends Animal {
  speak() {
    console.log(this.name + ' barks.');
  }
}

var d = new Dog('Mitzie');
d.speak(); // Mitzie barks.
            </code>
        </pre>
    </section>
    <section class="slide">
        <h1>Js classes vs actual OOP</h1>
        <p>
            Classes at javascript don't mean the same thing as they do at Java or .Net.
        </p>
        <p>
            They contain the same old prototypal inheritance under the hood and basically become constructor functions.
            Prototypal inheritance is a separate toppic to cover.             
        </p>
        <p>
            MDN is a good starting point to learn more: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain
        </p>
    </section>
    <section class="slide">
        <h2>ES6 class like this</h2>
        <figure>
                <pre>
                    <code>
                        class Shape {
                            constructor (id, x, y) {
                                this.id = id
                                this.move(x, y)
                            }
                            move (x, y) {
                                this.x = x
                                this.y = y
                            }
                        }
                    </code>
                </pre>
        </figure>
    </section>
    <section class="slide">
        <h2>... is basically this</h2>
        <figure>
                <pre>
                    <code>
                        var Shape = function (id, x, y) {
                            this.id = id;
                            this.move(x, y);
                        };
                        Shape.prototype.move = function (x, y) {
                            this.x = x;
                            this.y = y;
                        };
                    </code>
                </pre>
        </figure>
    </section>
    <section class="slide">
        <h1>Caveats</h1>
        <figure>
            <p class="delayed">
                In JavaScript, any function can instantiate and return objects.
                By using classes you become tied to the 'new' keyword that has to be used by all callers.
            </p>
            <p class="delayed">
                The coupling between a child class and its parent is the tightest form of coupling in OO design. That’s the opposite of reusable, modular code.
                Consider to avoid using the 'extends' keyword.
            </p>
            <p class="delayed">
                Class doesn’t give you any power that isn’t already supplied by factory functions and the prototypal OO built into the language.
            </p>
        </figure>
    </section>
    <section class="slide">
        <h1>Promises</h1>
        <figure>
            <h2>Nested Callbacks</h2>
            <pre>
                <code>
function runSequentially (callback) {  
  fastFunction((err, data) => {
    if (err) return callback(err)
    console.log(data)   // results of a

    slowFunction((err, data) => {
      if (err) return callback(err)
      console.log(data) // results of b

      // here you can continue running more tasks
    })
  })
}
                </code>
            </pre>
        </figure>
        <p class="delayed">It's not that easy to understand.</p>
        <p class="delayed">Consider not using the nested callback approach to handle async node.js operations.</p>
    </section>
    <section class="slide">
        <h1>Promises</h1>
        <h2>Another way to handle async operations</h2>
        <pre>
            <code>
fs.readFileAsync(myFile, 'utf8').then(function(txt) {  
    txt = txt + '\nAppended something!';
    fs.writeFile(myFile, txt);
}).then(function() {
    console.log('Appended text!');
}).catch(function(err) {
    console.log(err);
});
            </code>
        </pre>
    </section>
    <section class="slide">
        <h1>Finally</h1>
        <p>Sometimes there is the need to perform some actions regardless of the result.</p>
        <p>That's where 'finally' handler can be used.</p>
        <pre>
            <code>
                    function ajaxGetAsync(url) {
                        return new Promise(function (resolve, reject) {
                            var xhr = new XMLHttpRequest;
                            xhr.addEventListener("error", reject);
                            xhr.addEventListener("load", resolve);
                            xhr.open("GET", url);
                            xhr.send(null);
                        }).finally(function() {
                            $("#ajax-loader-animation").hide();
                        });
                    }
            </code>
        </pre>
    </section>
    <section class="slide">
        <h1>Further Steps</h1>
        <h2>Other Features</h2>
        <figure>
            <ul>
                <li>Symbols</li>
                <li>Iterators + For Of + Generators</li>
                <li>Modules</li>
                <li>Map + Set + WeakMap + WeakSet</li>
                <li>Proxies</li>
                <li>Math + Number + String + Object APIs</li>
                <li>Tail Calls</li>
            </ul>
        </figure>
    </section>
    <section class="slide">
        <h1>Further Steps</h1>
        <h2>ES2016</h2>
        <figure>
            <ul>
                <li>Array.prototype.includes</li>
                <li>Exponentation Operator</li>
            </ul>
        </figure>
        <h2>ES2017</h2>
        <figure>
            <ul>
                <li>Async Functions</li>
                <li>Shared Memory and Atomics</li>
            </ul>
        </figure>
    </section>
    <script type="text/javascript" src="prism.js"></script>
    <script type="text/javascript" src="csss/slideshow.js"></script>
</body>

</html>